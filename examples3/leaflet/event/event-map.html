<!DOCTYPE html>
<html>
<head>
    <title>示例-地图事件监听</title>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <link href="../../dist/GeoLMap.min.css" rel="stylesheet" />
    <script src="../../dist/jquery-1.11.1.min.js"></script>
    <script src="../../dist/GeoLMap.min.js"></script>
    <link href="../res/example.css" rel="stylesheet" />
</head>
<body>
    <div id="mapid"></div>
    <div class="leaflet-bar custom-button">
        <span id="label"></span><br />
        <span id="label_xy"></span>
    </div>
    <script>
        var map = new L.GeoMap('mapid', {
            zoom: 13
        });
        map.setView([31.578140, 120.309906], 11);

        map.on("moveend", function () {
            var xmax = map.getBounds().getNorthEast().lng.toFixed(6);
            var ymax = map.getBounds().getNorthEast().lat.toFixed(6);
            var xmin = map.getBounds().getSouthWest().lng.toFixed(6);
            var ymin = map.getBounds().getSouthWest().lat.toFixed(6);
            $("#label").html("地图范围:" + xmin + "," + ymin + "," + xmax + "," + ymax);
        }, this);
        map.on("click", function (e) {
            $("#label_xy").html("点击坐标:" + e.latlng.lng.toFixed(6) + "," + e.latlng.lat.toFixed(6));
        }, this);
        map.fireEvent("moveend");
    </script>
</body>
</html>