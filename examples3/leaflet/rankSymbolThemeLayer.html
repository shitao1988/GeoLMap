<!DOCTYPE html>
<html>
<head>
    <title>示例-结合echarts图表显示，饼图</title>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <script src="../../dist/jquery-1.11.1.min.js"></script>
    <script src="../../dist/echarts.min.js"></script>
    <link href="../../dist/GeoLMap.min.css" rel="stylesheet" />
    <script src="../../dist/GeoLMap.min.js"></script>
    <script src="../../data/renkou.js"></script>
    <style type="text/css">
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        #mapid {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="mapid">
    </div>
    <script>
        var map = new L.GeoMap('mapid', {
            zoom: 13
        });
        map.setView([29.698792, 121.621399], 9);
        map.on("zoomend", function (e) {
            console.log("zoomend，当前级别：" + e.target.getZoom());
            //绽放到不同级别  可重新回去不同行政级别或不同区域的数据
        }, this);

        $.each(data.records, function (i, val) {

            return L.circleMarker([val.kv.y, val.kv.x], { 
                 radius:val.kv.czrk_count/200,
				 fillColor: "#708598",
				 color: '#537898',
				 weight: 1, 
				 fillOpacity: 0.6 
				}).addTo(map);;
           
        });
    </script>
</body>
</html>